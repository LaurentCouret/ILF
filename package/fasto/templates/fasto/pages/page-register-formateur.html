<!DOCTYPE html>
<html lang="fr" class="h-100">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Institut Labélisation Français - Inscription</title>

    <link rel="shortcut icon" type="image/png" href="{{ url_for('static', filename='fasto/images/favicon.png')}}" />
    <link rel="stylesheet" href="{{ url_for('static', filename= 'fasto/vendor/bootstrap-select/dist/css/bootstrap-select.min.css')}}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@yaireo/tagify/dist/tagify.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='fasto/css/style.css')}}">        

    <!-- Styles supplémentaires -->
    <script src="https://unpkg.com/feather-icons" defer></script>
    <style>
        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            font-weight: bold;
            display: block;
            margin-bottom: 0.5rem;
        }

        .form-group input {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 1rem;
        }

        .password-container {
            position: relative;
        }

        .password-container input {
            padding-right: 40px; /* Espace pour l'icône */
        }

        .password-icon {
            position: absolute;
            top: 60%;
            right: 10px;
            transform: translateY(-50%);
            cursor: pointer;
        }

        .password-icon i {
            font-size: 20px;
        }
    </style>
</head>

<body class="vh-100">
    <main class="container">
        <!-- Messages flash -->
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          <div class="container mt-3">
            {% for category, message in messages %}
              <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                {{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </div>
            {% endfor %}
          </div>
        {% endif %}
      {% endwith %}
      
        <h2>Inscription pour Formateur</h2>
        <form method="POST" action="{{ url_for('main.register_formateur') }}" enctype="multipart/form-data">
            <div class="mb-3">
                <label for="nom" class="form-label">Nom</label>
                <input type="text" class="form-control" id="nom" name="nom" required>
            </div>
            <div class="mb-3">
                <label for="prenom" class="form-label">Prenom</label>
                <input type="text" class="form-control" id="prenom" name="prenom" required>
            </div>
            <div class="mb-3">
                <label for="secteur" class="form-label">Secteur</label>
                <input type="text" class="form-control" id="secteur" name="secteur" required>
                <small class="form-text text-muted">Veuillez entrer votre secteur d'activité. Exemple : Éducation, Informatique, Marketing</small>
            </div>
            
            <div class="mb-3">
                <label for="competences" class="form-label">Compétences</label>
                <input type="text" class="form-control" id="competences" name="competences" required>
                <small class="form-text text-muted">Veuillez entrer vos compétences séparées par des virgules. Exemple : Slack, Zoom, Python</small>
            </div>
            
            <div class="mb-3">
                <label for="photo_profil" class="form-label">Photo de profil</label>
                <input type="file" class="form-control" id="photo_profil" name="photo_profil" accept="image/*" required>
                <small class="form-text text-muted">Veuillez télécharger une photo de profil réelle. Les avatars ou dessins ne sont pas acceptés.</small>
            </div>            
            <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input type="email" class="form-control" id="email" name="email" required>
            </div>
            <div class="mb-3">
                <label for="confirm_email" class="form-label">Confirmer votre Email</label>
                <input type="email" class="form-control" id="confirm_email" name="confirm_email" required>
            </div>

            <!-- Mot de passe -->
            <div class="mb-3 password-container">
                <label for="password" class="form-label">Mot de passe</label>
                <input type="password" class="form-control" id="password" name="password" required>
                <div class="password-icon" id="toggle-password">
                    <i id="eye" data-feather="eye"></i>
                </div>
            </div>

            <!-- Confirmation du mot de passe -->
            <div class="mb-3 password-container">
                <label for="confirm_password" class="form-label">Confirmer votre mot de passe</label>
                <input type="password" class="form-control" id="confirm_password" name="confirm_password" required>
                <div class="password-icon" id="toggle-confirm-password">
                    <i id="eye" data-feather="eye"></i>
                </div>
            </div>

            <button type="submit" class="btn btn-primary">Inscription</button>
        </form>
    </main>

    <!-- Scripts -->
    <script src="{{ url_for('static', filename='fasto/vendor/global/global.min.js')}}"></script>
    <script src="{{ url_for('static', filename='fasto/js/custom.min.js')}}"></script>
    <script src="{{ url_for('static', filename='fasto/js/deznav-init.js')}}"></script>
    <script src="https://cdn.jsdelivr.net/npm/@yaireo/tagify/dist/tagify.min.js"></script>

    <!-- JavaScript pour la gestion du mot de passe -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Basculer la visibilité du mot de passe
            const togglePassword = document.querySelector("#toggle-password");
            const passwordField = document.querySelector("#password");

            togglePassword.addEventListener("click", function () {
                const type = passwordField.getAttribute("type") === "password" ? "text" : "password";
                passwordField.setAttribute("type", type);
                togglePassword.innerHTML = type === "password" ? '<i data-feather="eye"></i>' : '<i data-feather="eye-off"></i>';
                feather.replace();
            });

            // Basculer la visibilité du champ de confirmation du mot de passe
            const toggleConfirmPassword = document.querySelector("#toggle-confirm-password");
            const confirmPasswordField = document.querySelector("#confirm_password");

            toggleConfirmPassword.addEventListener("click", function () {
                const type = confirmPasswordField.getAttribute("type") === "password" ? "text" : "password";
                confirmPasswordField.setAttribute("type", type);
                toggleConfirmPassword.innerHTML = type === "password" ? '<i data-feather="eye"></i>' : '<i data-feather="eye-off"></i>';
                feather.replace();
            });

            // Initialiser Feather Icons
            feather.replace();
        });
    </script>
</body>
</html>
